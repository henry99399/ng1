<div id="appTypeManage">
    <div class="content_main">
        <div class="list_bar_row">
            <div class="bars">
                <button class="layui-btn" ng-click="addRow()" ng-show="getBtnToken('appType_add')">新增</button>
                <button class="layui-btn layui-btn-link" ng-click="row_update(true)" ng-show="getBtnToken('appType_up')">修改</button>
                <button class="layui-btn layui-btn-link" ng-click="delRow(false)" ng-show="getBtnToken('appType_del')">删除</button>
            </div>
        </div>
        <grid-table data-control="tableControl"></grid-table>
    </div>
    <div class="form_content animated none form_sm">
        <div class="form_title">
            <a href="javascript:void(0)" ng-click="formClose()" class="back_link">关闭</a>

            <div class="form_btns">
                <button class="layui-btn" ng-click="_form_submit(true)">保存</button>
                <button class="layui-btn"  ng-show="status" ng-click="_form_submit(false)">保存&新增</button>
            </div>
        </div>
        <div class="form_content_Y">
            <form class="form_html">
                <div class="layui-form-item">
                    <label class="layui-form-label"><em>*</em>app类型:</label>
                    <div class="layui-input-block">
                        <input class="layui-input"  ng-model="selRow.app_type_name" type="text" />
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label"><em>*</em>app名称:</label>
                    <div class="layui-input-block">
                        <input class="layui-input"  ng-model="selRow.app_name" type="text" />
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label"><em>*</em>app包名:</label>
                    <div class="layui-input-block">
                        <input class="layui-input"  ng-model="selRow.package_name" type="text" />
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div id="allocationAppType" style="display: none;padding: 15px;">
        <div style="float: left;width: 100%">
            <div class="col-xs-10" style="padding-left: 0"><input type="text" class="layui-input" placeholder="机构名称" ng-model="fenpeiParamCol.searchText"></div>
            <div class="col-xs-2" style="padding: 0"><button class="block layui-btn" ng-click="_fenpeiData()">搜索</button></div>
        </div>
        <table class="layui-table">
            <colgroup>
                <col>
                <col>
                <col>
            </colgroup>
            <thead>
            <tr>
                <th>机构id</th>
                <th>机构编码</th>
                <th>机构名称</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="row in data_appType_org_array">
                <td align="center">{{row.org_id}}</td>
                <td align="center">{{row.short_name}}</td>
                <td align="center" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis">{{row.org_name}}</td>
                <td align="center">
                    <div>
                        <button class="btn btn-primary layui-btn-mini" ng-if = "!row.create_time" ng-click="addOrg(row)">分配</button>
                        <button class="btn btn-warn layui-btn-mini" ng-if="row.create_time " >已分配</button>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
        <div style="float: left;width: 100%;text-align: center" ng-if="fenpeiParam.pages > 1">
            <button class="btn" ng-click="_fenpeiData(fenpeiParam.pageNum - 1)" ng-if="fenpeiParam.pageNum > 1">上一页</button>
            <button class="btn"  ng-click="_fenpeiData(fenpeiParam.pageNum + 1)" ng-if="fenpeiParam.pageNum < fenpeiParam.pages">下一页</button>
        </div>
    </div>
    <!--机构选择-->
    <sel-org></sel-org>
</div>